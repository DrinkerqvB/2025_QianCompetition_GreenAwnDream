
# 必须首先决定 ***接线*** 问题！


************************************************************************************

# 运动学分析与电机控制相关参数修改

文件：robot_select_init.h 开始处手动设置Robot_Parament_InitTypeDef  Robot_Parament参数，通过修改宏定义

***编码器与MCU的通信方式是否与该原码相同？？若用I2C或SPI，则需要修改！***

编码器读取函数Read_Encoder()在encoder.c文件里；编码器转速算法函数Get_Velocity_Form_Encoder()在balance.c文件里，编码器算法可能要改，改编码器数据读取频率！

PID（实际上为PI）函数在balance.c文件里，PID参数在system.c文件中

运动学反解函数Drive_Motor在balance.c文件里

PWM输出函数Set_Pwm()在balance.c文件里，函数设置PWM的方式为直接设置CCR寄存器


************************************************************************************

# 疑问

我们的目标速度从哪里来？？？ 已有获取方式：balance.c 136-143行

MPU6050的加速度数据和编码器的速度数据有何不同？

编码器与MCU的通信方式是否与该原码相同？？

************************************************************************************

在usart.c文件里还有一个用CAN发送数据的函数CAN_SEND(void)，但它最终仍是通过can.c中的CAN1_Send_Num()函数发送


# 流程

建新文件后，在.h文件里包含2个文件system.h sys,h ，并在 system.c中包含所创建的.h文件